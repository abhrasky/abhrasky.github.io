<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta content="width=device-width, initial-scale=1.0" name="viewport">
  <title>Kompankotech Pvt Ltd</title>

  <link href="static/assets/img/ktpl_icon.jpg" rel="icon">
  <link href="static/assets/img/KTPL_LOGO1.png" rel="apple-touch-icon">

  <link href="https://fonts.googleapis.com/css?family=Open+Sans:300,400,600,700|Nunito:300,400,600,700|Poppins:300,400,500,600,700" rel="stylesheet">
  <link href="static/assets/vendor/aos/aos.css" rel="stylesheet">
  <link href="static/assets/vendor/bootstrap/css/bootstrap.min.css" rel="stylesheet">
  <link href="static/assets/vendor/bootstrap-icons/bootstrap-icons.css" rel="stylesheet">
  <link href="static/assets/vendor/glightbox/css/glightbox.min.css" rel="stylesheet">
  <link href="static/assets/vendor/remixicon/remixicon.css" rel="stylesheet">
  <link href="static/assets/vendor/swiper/swiper-bundle.min.css" rel="stylesheet">
  <link href="static/assets/css/style.css" rel="stylesheet">
</head>

<body>

  <!-- ======= Header ======= -->
  <header id="header" class="header fixed-top">
    <div class="container-fluid container-xl d-flex align-items-center justify-content-between">
      <a href="home.html" class="logo d-flex align-items-center">
        <img src="static/assets/img/KTPL_LOGO1.png" alt="">
        <span>Kompankotech</span>
      </a>

      <nav id="navbar" class="navbar">
        <ul id="navList">
          <li><a class="nav-link scrollto active" href="home.html">Home</a></li>
          <li><a class="nav-link scrollto" href="#about">About us</a></li>
          <li class="dropdown"><a href="#"><span>Solutions</span> <i class="bi bi-chevron-down"></i></a>
            <ul>
              <li><a>AI Solutions</a></li>
              <li><a>IoT Solutions</a></li>
              <li><a>Power Converter Solutions</a></li>
              <li><a>Motor Controller Solutions</a></li>
            </ul>
          </li>
          <li><a class="nav-link scrollto" href="#contact">Contact</a></li>
          <span id="userMenu"></span>
        </ul>
        <i class="bi bi-list mobile-nav-toggle"></i>
      </nav>
    </div>
  </header>
  <!-- End Header -->

  <!-- ======= Hero Section ======= -->
  <section id="hero" class="hero d-flex align-items-center">
    <div class="container">
      <div class="row">
        <div class="col-lg-6 d-flex flex-column justify-content-center">
          <h1 data-aos="fade-up">Comprehensive Solutions for your needs</h1>
          <h2 data-aos="fade-up" data-aos-delay="400">
            We provide solutions in the field of AI/ML, Power Electronics and Motor Controllers.
          </h2>
          <div data-aos="fade-up" data-aos-delay="600">
            <div class="text-center text-lg-start">
              <a href="#about" class="btn-get-started scrollto d-inline-flex align-items-center justify-content-center align-self-center">
                <span>Get Started</span>
                <i class="bi bi-arrow-right"></i>
              </a>
            </div>
          </div>
        </div>
        <div class="col-lg-6 hero-img" data-aos="zoom-out" data-aos-delay="200">
          <img src="static/assets/img/hero-bg1.png" class="img-fluid" alt="">
        </div>
      </div>
    </div>
  </section>
  <!-- End Hero -->

  <main id="main">

    <!-- ======= About Section ======= -->
    <section id="about" class="about">
      <div class="container" data-aos="fade-up">
        <div class="row gx-0">
          <div class="col-lg-6 d-flex flex-column justify-content-center" data-aos="fade-up" data-aos-delay="200">
            <div class="content">
              <h3>Who We Are</h3>
              <h2>Techno enthusiasts eager to solve practical problems in the most innovative way.</h2>
              <p>
                Our company is formed by a group of research scholars from IITs to provide innovative solutions for the emerging
                problems faced by industries in power electronics — especially EV motor controllers and chargers — as well as 
                AI-assisted computer vision for smart automotive systems.
              </p>
              <p>
                We also provide on-demand tutorials on motor controllers, converters, and AI for computer vision to our industry partners.
              </p>
              <div class="text-center text-lg-start">
                <a href="#" class="btn-read-more d-inline-flex align-items-center justify-content-center align-self-center">
                  <span>Read More</span>
                  <i class="bi bi-arrow-right"></i>
                </a>
              </div>
            </div>
          </div>

          <div class="col-lg-6 d-flex align-items-center" data-aos="zoom-out" data-aos-delay="200">
            <img src="static/assets/img/about.jpg" class="img-fluid" alt="">
          </div>
        </div>
      </div>
    </section>
    <!-- End About Section -->

    <!-- ======= Contact Section ======= -->
    <section id="contact" class="contact">
      <div class="container" data-aos="fade-up">
        <header class="section-header">
          <h2>Contact</h2>
          <p>Contact Us</p>
        </header>

        <div class="row gy-4">
          <div class="col-lg-6">
            <div class="row gy-4">
              <div class="col-md-6">
                <div class="info-box">
                  <i class="bi bi-geo-alt"></i>
                  <h3>Address</h3>
                  <p>Nadia,<br>West Bengal 741245, India</p>
                </div>
              </div>
              <div class="col-md-6">
                <div class="info-box">
                  <i class="bi bi-telephone"></i>
                  <h3>Call Us</h3>
                  <p>+91 9732990757</p>
                </div>
              </div>
              <div class="col-md-6">
                <div class="info-box">
                  <i class="bi bi-envelope"></i>
                  <h3>Email Us</h3>
                  <p>kompanko22@gmail.com</p>
                </div>
              </div>
              <div class="col-md-6">
                <div class="info-box">
                  <i class="bi bi-clock"></i>
                  <h3>Open Hours</h3>
                  <p>Mon - Fri<br>9:00AM - 5:00PM</p>
                </div>
              </div>
            </div>
          </div>

          <!-- Contact Form -->
          <div class="col-lg-6">
            <form id="contactForm" class="php-email-form">
              <div class="row gy-4">
                <div class="col-md-6">
                  <input type="text" name="name" id="name" class="form-control" placeholder="Your Name" required>
                </div>
                <div class="col-md-6">
                  <input type="email" name="email" id="email" class="form-control" placeholder="Your Email" required>
                </div>
                <div class="col-md-12">
                  <input type="text" name="subject" id="subject" class="form-control" placeholder="Subject" required>
                </div>
                <div class="col-md-12">
                  <textarea name="message" id="message" class="form-control" rows="6" placeholder="Message" required></textarea>
                </div>
                <div class="col-md-12 text-center">
                  <div class="loading" style="display:none;">Loading...</div>
                  <div class="error-message text-danger"></div>
                  <div class="sent-message text-success"></div>
                  <button type="submit">Send Message</button>
                </div>
              </div>
            </form>
          </div>
        </div>
      </div>
    </section>
    <!-- End Contact Section -->

  </main>

  <!-- ======= Footer ======= -->
  <footer id="footer" class="footer">
    <div class="container">
      <div class="copyright">
        &copy; Copyright <strong><span>Kompankotech Pvt Ltd.</span></strong>. All Rights Reserved
      </div>
    </div>
  </footer>

  <a href="#" class="back-to-top d-flex align-items-center justify-content-center"><i class="bi bi-arrow-up-short"></i></a>

  <!-- Vendor JS -->
  <script src="static/assets/vendor/aos/aos.js"></script>
  <script src="static/assets/vendor/bootstrap/js/bootstrap.bundle.min.js"></script>
  <script src="static/assets/vendor/glightbox/js/glightbox.min.js"></script>
  <script src="static/assets/vendor/swiper/swiper-bundle.min.js"></script>
  <script src="static/assets/js/main.js"></script>

  <!-- ======= Dynamic + Contact JS ======= -->
  <script>
    const API_URL = "https://api.ktpl.in"; // your backend

    // --- User Menu ---
    const userMenu = document.getElementById("userMenu");
    const username = localStorage.getItem("username");
    if (username) {
      userMenu.innerHTML = `
        <li class="dropdown">
          <a href="#"><span>Hello ${username}</span> <i class="bi bi-chevron-down"></i></a>
          <ul>
            <li><a href="profile.html">Profile</a></li>
            <li><a href="#" id="logoutBtn">Logout</a></li>
          </ul>
        </li>`;
    } else {
      userMenu.innerHTML = `<li><a class="getstarted scrollto" href="login.html">Log in</a></li>`;
    }

    document.addEventListener("click", (e) => {
      if (e.target && e.target.id === "logoutBtn") {
        e.preventDefault();
        localStorage.removeItem("username");
        localStorage.setItem("flash", "You have been logged out.");
        window.location.href = "home.html";
      }
    });

    // --- Contact Form ---
    const form = document.getElementById("contactForm");
    const loading = document.querySelector(".loading");
    const errorMsg = document.querySelector(".error-message");
    const successMsg = document.querySelector(".sent-message");

    form.addEventListener("submit", async (e) => {
      e.preventDefault();
      loading.style.display = "block";
      errorMsg.textContent = "";
      successMsg.textContent = "";

      const payload = {
        name: document.getElementById("name").value,
        email: document.getElementById("email").value,
        subject: document.getElementById("subject").value,
        message: document.getElementById("message").value
      };

      try {
        const res = await fetch(`${API_URL}/contact`, {
          method: "POST",
          headers: { "Content-Type": "application/json" },
          body: JSON.stringify(payload)
        });
        const data = await res.json();

        if (res.ok) {
          successMsg.textContent = data.message || "Message sent successfully!";
          form.reset();
        } else {
          errorMsg.textContent = data.detail || "Failed to send message.";
        }
      } catch (err) {
        errorMsg.textContent = "Server not reachable.";
      } finally {
        loading.style.display = "none";
      }
    });
  </script>
</body>
</html>
